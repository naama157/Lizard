<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lizard</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='naama.png') }}">
{% with messages = get_flashed_messages() %}
  {% if messages %}
    <ul class=flashes>
    {% for message in messages %}
      <li>{{ message }}</li>
    {% endfor %}
    </ul>
  {% endif %}
{% endwith %}
</head>
<body style="background-image:url(static/wallpaper.jpg); color:#F26B6B">
  {% extends "index.html" %}
    {% block content %}
<h1 style="font:Arial; color:#F26B6B; size: 45", align="center">Register</h1>
    <script type="text/javascript">
         function CheckTofes() {
             var user = document.myform.firstname.value;
             if (user.length == 0) {
                 alert("You Forgot To Type Your First Name!");
                 document.myform.firstname.focus();
                 return false;
             }
             var user = document.myform.lastname.value;
             if (user.length == 0) {
                 alert("You Forgot To Type Your Last Name!");
                 document.myform.lastname.focus();
                 return false;
             }
             var name = document.myform.username.value;
             if (name.length == 0) {
                 alert("You Have To Type Your Username!");
                 document.myform.username.focus();
                 return false;
             }
             password1 = document.myform.password.value;
             if (password1.length < 6) {
                 alert("Password Has to be 6 Chars At least");
                 document.myform.password.focus();
                 return false;
             }
             password1 = document.myform.password.value;
             password2 = document.myform.checkpassword.value;
             if (password1 != password2) {
                 alert("validation is wrong");
                 document.myform.checkpassword.value = "";
                 document.myform.checkpassword.focus();
                 return false;
             }
             //מייל
             var str = document.myform.email.value;
             if (str == "") {
                 alert("You Need To Type Your Email");
                 document.myform.email.focus();
                 return false;
             }
             if (str.indexOf(".") < 1 || str.indexOf("@") < 1 || str.slice(-1) == "." || str.slice(-1) == "@" || str.substring(str.indexOf("@")).length < 5 || str.substring(str.indexOf("@")).length > 30 || !(str.slice(-4) == ".com" || str.slice(-6) == ".co.il")) {
                 alert("You Need To Type Legal Email");
                 document.myform.email.focus();
                 return false;
             }
             var count = 0;
             for (var i = 0; i < str.length; i++) {
                 var ch = str.charCodeAt(i);
                 if (!(ch >= 64 && ch <= 90 || ch >= 97 && ch <= 122 || ch >= 48 && ch <= 57 || ch == 46)) {
                     alert("You Need To Type Legal Email");
                     document.myform.email.focus();
                     return false;
                 }
                 if (str[i] == "@")
                     count++;
             }
             if (count != 1 || str[str.indexOf("@") - 1] == "." || str[str.indexOf("@") + 1] == ".") {
                 alert("You Need To Type Legal Email");
                 document.myform.email.focus();
                 return false;
                 return true;
             }
         }
</script>
 <center>
    <form name="myform" id="myform" method="post" action="/register" onsubmit="return CheckTofes()">
        <table>
            <tr><td  VALIGN="TOP"> First Name: </td><td><input type="text" name="firstname" id="firstname" /><br /><br /></td></tr>
            <tr><td VALIGN="TOP">Last Name:</td><td> <input type="text" name="lastname" id="lastname" /><br /><br /></td></tr>
            <tr><td VALIGN="TOP"> Username:</td><td> <input type="text" name="username" id="username" /><br /><br /></td></tr>
            <tr><td VALIGN="TOP">Password:</td><td> <input type="password" name="password" id="password" maxlength="12" /><br /><br /></td></tr>
            <tr><td VALIGN="TOP"> Password Validation:&nbsp; </td><td><input type="password" name="checkpassword" id="checkpassword" maxlength="12" /><br /><br /></td></tr>
            <tr><td VALIGN="TOP"> Email:</td><td> <input type="email" name="email" id="email" /><br /><br /></td></tr>
</table>
        <input type="submit" name="submit" value="send" />
        <input type="reset" name="reset" value="clean" />
    </form>
 </center>
{% endblock %}

</body>
</html>